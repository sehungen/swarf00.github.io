---
layout: article
title: 사용자인증(4)
excerpt: 장고(Django) 웹프레임워크에서 소셜로그인(oauth)를 이용하여 로그인 및 회원가입을 구현하는 방법을 알아봅니다.모델폼을 이용하여 쉽게 템플릿을 구현하는 방법을 알아봅니다.
key: django-authentication-04
aside:
  toc: true
sidebar:
  nav: docs-ko
mermaid: true
pageview: true
date: 2018/12/10
tags: 장고 Django auth 간편로그인 소셜로그인 naver kakao facebook
metadata:
  og_title: 장고(Django) 사용자인증 제 4 편
  og_type: article
  og_locale: ko_KR
  og_description: 장고(Django) 웹프레임워크에서 소셜로그인(oauth)를 이용하여 로그인 및 회원가입을 구현하는 방법을 알아봅니다.
  og_site_name: 장고(Django) 핥짝 맛보기
---
## 1. 소셜로그인

앞서 인증기능을 구현하는 방법에 대해 살펴봤는데 로컬에서 회원가입과 로그인은 사용자에게 불편함과 불안함을 가져다 주기도 합니다. 여러분은 사용자의 정보를 안전하게 관리하고 있더라도 사용자는 그것을 알 수 없기에 자기 자신의 정보를 여러분의 서비스에 저장하는 것에 부담감이 있을 수 있습니다. 게다가 모바일로 접속한 사용자라면 이메일 주소 하나만 입력하더라도 피곤하다고 느낄 것이고 모바일의 터치키보드 떄문에 오타로 인한 스트레스를 받을 수 있기 때문에 좀 더 빠르고 편한 인증 방식을 제공해주는 것이 좋습니다.
인증이 반드시 필요한 서비스라면 난감한 상황일 수 있습니다. 이럴 때 이미 많은 **사용자들에게 신뢰를 받고 있으며 충분히 많은 사용자를 보유한  서비스에게 인증기능을 위임해서 인증결과만 받아볼 수 있는 방법**이 있습니다. `간편로그인`이라고 부르기도 하고 `소셜로그인`이라고도 부르기도 하는 기능인데 이름은 어찌되었든 사용자와 개발자 입장에서 간편하고 안전하게 인증을 할 수 있는 방법입니다. 이성적으로 간편로그인이라는 용어가 맞을 것 같은데 장고 커뮤니티에서 주로 소셜로그인이라 부르기 때문에 여기서도 소셜로그인이라고 하겠습니다.

### oauth

소셜로그인은 `oauth` 라는 인증 프로토콜을 구현한 api를 외부에 공개해서 **누구라도` 인증(authentication)`과 `권한허가(authorization)`를 사용할 수 있도록 제공하는 api** 입니다. 현재 oauth는 2.0 버전까지 나와 있지만 소셜로그인 api 제공 서비스마다 구현된 프로토콜이 다양합니다. 국내보다 해외에서 oauth 2.0 버전을 지원하는 곳이 많습니다. 아무래도 1.0 버전의 보안 취약성을 개선한 2.0 버전을 선호하기 때문인데 국내 서비스들도 2.0 버전을 지원하는 사례들이 많아지고 있습니다.

oauth 2.0 버전이 내용을 이해하기는 그리 어렵지 않습니다. api 제공해야 하는 프로바이더(authorization server or resource server) 입장에서는 복잡하지만 각 프로바이더들이 제공하는 api를 사용하는 여러분의 서비스(client) 입장에서는 몇 가지만 구현해주면 됩니다. **먼저 oauth 2.0 에 대해 잘 정리된 [문서](https://meetup.toast.com/posts/105)를 보시고** 아래 내용을 따라하시길 바랍니다.  
한가지 소셜로그인을 구현해 보면 나머지 서비스들도 비슷하게 구현해보실 수 있을 겁니다. 먼저 페이스북 로그인 api로 소셜로그인 기능을 구현해보도록 하겠습니다.

### 페이스북 소셜로그인

페이스북 api를 사용하기 위해서는 페이스북에 개발자로 등록하고 api 사용권한을 허가받아야 합니다. 페이스북 개발자 사이트에 접속하시고 로그인된 상태에서 오른쪽 상단의 시작하기 버튼을 클릭하면 개발자 등록이 시작됩니다. 본인인증이 되시면 등록이 완료되시고 첫번째 앱 등록화면 이미 등록이 되신 분은 앱 등록하기를 보시면 됩니다.

### 페이스북 앱 등록

[페이스북 앱 관리 관리페이지](https://developers.facebook.com/apps/) 에서 소셜로그인 기능을 사용할 앱을 등록할 수 있습니다. 여기서 말하는 앱은 모바일 앱 뿐만 아니라 웹서비스(웹앱)도 모두 포함하는 용어이니 혼동하지 않으시길 바랍니다.